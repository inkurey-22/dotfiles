##
## EPITECH PROJECT, 2025
## day02
## File description:
## Makefile
##

# GHC compiler
GHC = ghc

# Source files (all .hs files in the directory)
SRC = DoOp.hs

# Object files (replace .hs with .o)
OBJ = $(SRC:.hs=.o)

# Output binary
BINARY = doop

.PHONY: all clean

all: $(BINARY)

# Link object files to create the binary
$(BINARY): $(OBJ)
	$(GHC) -o $(BINARY) $(OBJ)

# Compile .hs files to .o files
%.o: %.hs
	$(GHC) -c $<

clean:
	rm -f *.hi *.o

fclean: clean
	rm -f $(BINARY)

re: fclean all

run: $(BINARY)
	./$(BINARY)